 import React, { useRef } from 'react'
import { useFrame } from '@react-three/fiber'
import { Center, Html, Line, Text, useProgress } from '@react-three/drei'

function Loaderr() {
  const lineRef = useRef()
  const { progress } = useProgress()

  useFrame(({ clock }) => {
    if (lineRef.current) {
      lineRef.current.position.x = Math.sin(clock.elapsedTime * 2) * 1
    }
  })

  return (
    <group>
      <Center top position={[0, 4, 0]}>
        <Html center>
          <div style={{ width: '9rem', height: '5rem', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              version="1.1"
              viewBox="0 0 232 40.6"
              className="w-full h-full"
              aria-label="Loading"
              role="img"
            >
              <g>
                <g id="Layer_1">
                  <g id="Layer_1-2" data-name="Layer_1">
                    <g>
                      <path className="cls-1" d="M103.5,20.5c0-.8-.3-1.2-.9-1.6-.8-.5-1.9-1-3-1.4-.9-.4-1.9-.4-4.3-.5h-20.7v10.8h20.7c2.5,0,3.4-.1,4.3-.5,1-.4,2.2-.9,3-1.4.6-.4.8-.8.9-1.6v-3.9h0ZM96.7,23.5c0,.6-.1.8-.6,1.2-.3.1-.5.3-.8.4-.5.3-1,.3-2.1.3h-11.6v-5.7h11.6c1,0,1.4,0,2.1.3.3,0,.5.3.8.4.5.3.6.4.6,1.2v2.3h0v-.3ZM30,20.3c0-.9-.3-1.3-.9-1.7-.8-.5-1.9-1-3.1-1.4-1-.4-1.9-.4-4.5-.5H0v11.2h21.4c2.5,0,3.5-.1,4.5-.5s2.2-.9,3.1-1.4c.6-.4.9-.8.9-1.7v-3.9ZM22.9,23.5c0,.6-.1.9-.6,1.2l-.8.4c-.6.3-1,.3-2.1.3H7.3c-1.6,0,0,0,0,0v-6h12.1c1,0,1.6,0,2.1.3.3,0,.6.3.8.4.5.3.6.5.6,1.2v2.3h0ZM67.2,20.4c0-.8-.3-1.2-.9-1.7-.8-.5-1.9-1-3-1.4s-1.9-.4-4.4-.5h-13c-2.5,0-3.5.1-4.4.5-1,.4-2.2.9-3,1.4-.6.4-.8.8-.9,1.7v3.9c0,.8.3,1.2.9,1.7.8.5,1.9,1,3,1.4,1,.4,1.9.4,4.4.5h13c2.5,0,3.5-.1,4.4-.5,1-.4,2.2-.9,3-1.4.6-.4.8-.8.9-1.7v-3.9ZM60.2,23.5c0,.6-.1.9-.6,1.2-.3.1-.5.3-.8.4-.6.3-1,.3-2.1.3h-8.6c-1,0-1.6,0-2.1-.3-.3,0-.5-.3-.8-.4-.5-.3-.6-.5-.6-1.2v-2.3c0-.6.1-.9.6-1.2.3-.1.5-.3.8-.4.6-.3,1-.3,2.1-.3h8.6c1,0,1.6,0,2.1.3.3,0,.5.3.8.4.5.3.6.5.6,1.2v2.3ZM175.2,25.5v2.3h-27.3c-.4,0-.5,0-.5-.6v-10c0-.3,0-.4.5-.4h27v2.1h-20.1c-.4,0-.5,0-.5.5v1.2h16.4v2.2h-16.4v1.3c0,.4,0,.5.5.5h20.4v.9ZM139.8,22.4v5.5h-20.7c-2.5,0-3.4-.1-4.3-.5-1-.4-2.2-.9-3-1.4-.6-.4-.8-.8-.9-1.6v-3.9c0-.8.3-1.2.9-1.6.8-.5,1.9-1,3-1.4.9-.4,1.9-.4,4.3-.5h20.5v2.2h-18.3c-1,0-1.4,0-2.1.3-.3,0-.5.3-.8.4-.5.3-.6.4-.6,1.2v2.3c0,.6.1.8.6,1.2.3.1.5.3.8.4.5.3,1,.3,2.1.3h11.2c.1,0,.3,0,.3-.1v-.3s0-.3-.1-.3l-3.4-2.2v-.3h.3c.4-.4.5-.4.9-.4h9.1c.4,0,.5,0,.5.5h0l-.3.3Z" fill='black'/>
                      <path className="cls-2" d="M216.8,19.2c-3.4-6.2-5.6-12.9-6.2-19v-.3h-3.6v.3c-.8,6.2-3,12.7-6.4,19l-.4.6,3.5,1.9c2.1-3.1,3.6-4.8,4.9-4.8s2.9,1.8,4.9,4.8l3.5-1.9-.4-.6h.1ZM214.1,19.6c-2.1-2.9-3.6-4.3-5.5-4.3s-3.4,1.4-5.5,4.3l-.8-.4c3-5.7,5.1-11.8,5.8-17.5h.6c.8,5.7,2.9,11.8,5.8,17.5l-.8.4h.1Z" fill='red'/>
                      <path className="cls-2" d="M207.7,32.1c-3.6-.3-6-.6-6.6-1.8s0-3.4,1.7-6.6l-3.4-2.1-.4.6c-3.8,6.1-8.3,11.2-13.3,14.9h-.1s.4.9.8,1.7c.5.8.9,1.6.9,1.6h.3c5.7-2.6,12.5-3.9,19.6-4.2h.8v-4h-.3ZM187.8,38.2s0-.1-.1-.3v-.3c4.5-3.6,8.7-8.3,12.2-13.9l.8.4c-1.4,3.2-1.9,5.2-1,6.9.9,1.6,3,2.2,6.5,2.6v.9c-6.5.3-12.7,1.6-18.1,3.6h-.3Z" fill='red'/>
                      <path className="cls-2" d="M209.6,36.1h.8c7.1.3,13.9,1.6,19.6,4h.3s.5-.6.9-1.4c.5-.8.8-1.6.8-1.6h-.1c-4.9-3.9-9.6-9-13.3-15.1l-.4-.6-3.4,2.1c1.6,3.4,2.3,5.5,1.7,6.6s-3,1.6-6.6,1.8v4h-.3ZM211.3,34.4v-.9c3.5-.4,5.6-.9,6.5-2.6.9-1.6.4-3.6-1-6.9l.8-.4c3.5,5.5,7.7,10.3,12.2,13.9v.3s0,.1-.1.3c-5.5-2.1-11.7-3.4-18.2-3.6h-.1Z" fill='red'/>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
          </div>
        </Html>
      </Center>
      <Line
        ref={lineRef}
        points={[[-0.2, 0, 0], [0.2, 0, 0]]}
        color="red"
        lineWidth={4}
        position={[0, -0.5, 0]}
      />
      <Text position={[0, -0.9, 0]} fontSize={0.3} color="red">
        Loaded {progress.toFixed(2)}%
      </Text>
    </group>
  )
}

export default Loaderr